<!DOCTYPE html>
<html>
	<head>
		<title>David Adler</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.ico">
		<link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon">
		<style type="text/css" media="screen">
			body {
				font-family: courier;
			}
			video {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				object-fit: cover;
			}
			main {
				position: relative;
				z-index: 99;
			}
			.hide {
				display: none;
			}
			.inline {
				display: inline;
			}
		</style>
	</head>
	<body>
 		<video class="hide" autoplay loop poster preload>
			<source src="http://mfbx9da4.github.io	/assets/img/vini-photos-lagoa-abi-dave/4415-1.m4v">
		</video>
		<main>
			<div>Hey give me a sec,</div>
		</main>

 		<script>
 			/*!
			  * $script.js JS loader & dependency manager
			  * https://github.com/ded/script.js
			  * (c) Dustin Diaz 2014 | License MIT
			  */
			(function(e,t){typeof module!="undefined"&&module.exports?module.exports=t():typeof define=="function"&&define.amd?define(t):this[e]=t()})("$script",function(){function p(e,t){for(var n=0,i=e.length;n<i;++n)if(!t(e[n]))return r;return 1}function d(e,t){p(e,function(e){return!t(e)})}function v(e,t,n){function g(e){return e.call?e():u[e]}function y(){if(!--h){u[o]=1,s&&s();for(var e in f)p(e.split("|"),g)&&!d(f[e],g)&&(f[e]=[])}}e=e[i]?e:[e];var r=t&&t.call,s=r?t:n,o=r?e.join(""):t,h=e.length;return setTimeout(function(){d(e,function t(e,n){if(e===null)return y();e=!n&&e.indexOf(".js")===-1&&!/^https?:\/\//.test(e)&&c?c+e+".js":e;if(l[e])return o&&(a[o]=1),l[e]==2?y():setTimeout(function(){t(e,!0)},0);l[e]=1,o&&(a[o]=1),m(e,y)})},0),v}function m(n,r){var i=e.createElement("script"),u;i.onload=i.onerror=i[o]=function(){if(i[s]&&!/^c|loade/.test(i[s])||u)return;i.onload=i[o]=null,u=1,l[n]=2,r()},i.async=1,i.src=h?n+(n.indexOf("?")===-1?"?":"&")+h:n,t.insertBefore(i,t.lastChild)}var e=document,t=e.getElementsByTagName("head")[0],n="string",r=!1,i="push",s="readyState",o="onreadystatechange",u={},a={},f={},l={},c,h;return v.get=m,v.order=function(e,t,n){(function r(i){i=e.shift(),e.length?v(i,r):v(i,t,n)})()},v.path=function(e){c=e},v.urlArgs=function(e){h=e},v.ready=function(e,t,n){e=e[i]?e:[e];var r=[];return!d(e,function(e){u[e]||r[i](e)})&&p(e,function(e){return u[e]})?t():!function(e){f[e]=f[e]||[],f[e][i](t),n&&n(r)}(e.join("|")),v},v.done=function(e){v([null],e)},v})
		</script>
		<script>
			var loadingModel = {
				messages: {
					libs: {
						strings: [
							"I am just loading the stuff :-)<br>" +
							"Loading javascript <br>" +
							"Loaded javascript in %delay seconds <br>" +
							"Loading video"
						]
					}
				}
			};

			var loadingView = {
				render: function() {
					this.type();
				},
				type: function(config, inline) {
					var div = $('<div/>');
					inline && div.addClass('inline');
					$("main").append(div);
					var default_config = {
						showCursor: false,
						typeSpeed: -1000000
					};
					for (var key in default_config) {
						config[key] = config[key] || default_config[key];
					}
					div.typed(config);
				}
			};

			var loadingCtrl = {
				init: function () {
					var ctrl = this;
					ctrl.start = new Date().getTime();
					$script('/assets/js/landing-page-libs.min.js', 'libs');

					$script.ready(['libs'], function () {
						var message = ctrl.getMessage('libs')
						loadingView.type(message)
					});
				},
				getMessage: function (type) {
					var message = loadingModel.messages[type];
					var strings = [];
					for (var i = 0; i < message.strings.length; i ++) {
						var string = message.strings[i];
						string.replace('%delay', (new Date().getTime() - this.start) / 1000);
					}
					message.strings = strings;
					return message
				}
			};
			loadingCtrl.init();

			var vid = document.querySelector('video');
			vid.addEventListener('progress', function(ev) {
				console.log('progress');
				console.log(ev.target.buffered);
			});
			vid.addEventListener('loadeddata', function(ev) {
				console.log('loaded video');
				loadingView.type({
					strings: ["Loaded background video " + (new Date().getTime() - start) / 1000 + ' seconds ^500'],
					callback: function() {
						$(vid).removeClass('hide');
						$('main').empty();
					}
				});
			});
		</script>
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		  ga('create', 'UA-40588403-3', 'mfbx9da4.github.io');
		  ga('send', 'pageview');
		</script>
	</body>
</html>