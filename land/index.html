<!DOCTYPE html>
<html>
	<head>
		<title>David Adler</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" href="/assets/img/favicon.ico"/>
		<style type="text/css" media="screen">
			*, *:before, *:after {
			  margin: 0;
			  padding: 0;
			  box-sizing: border-box; }

			body {
			  font-family: courier; }

			video {
			  position: absolute;
			  top: 0;
			  left: 0;
			  width: 100%;
			  height: 100%;
			  object-fit: cover; }

			main {
			  position: absolute;
			  width: 100%;
			  height: 100%;
			  z-index: 99;
			  display: table;
			  overflow: hidden; }

			.hide {
			  display: none !important; }

			.inline {
			  display: inline; }

			.print {
			  position: fixed;
			  top: 0;
			  left: 0;
			  width: 390px;
			  font-weight: bold; }

			.result {
			  color: green; }

			section.intro {
			  position: absolute;
			  width: 100%;
			  height: 100%;
			  display: table;
			  color: white;
			  font-weight: bold;
			  font-size: 30px;
			  font-family: 'Dancing Script', cursive, courier;
			  -webkit-text-stroke-width: 1px;
			  -webkit-text-stroke-color: #ccc;
			  text-shadow: 0px 0px 4px #000; }

			.v-centered, section.intro div, .loader-container {
			  display: table-cell;
			  vertical-align: middle; }

			section.intro div {
			  padding-left: 30px; }
			  section.intro div a {
			    color: white; }

			/*# sourceMappingURL=styles.css.map */

		</style>
		<style id="loader-styles">
			.loader {
			  margin: 6em auto;
			  font-size: 10px;
			  position: relative;
			  text-indent: -9999em;
			  border-top: 1.1em solid rgba(200, 200, 200, 0.2);
			  border-right: 1.1em solid rgba(200, 200, 200, 0.2);
			  border-bottom: 1.1em solid rgba(200, 200, 200, 0.2);
			  border-left: 1.1em solid #222;
			  -webkit-transform: translateZ(0);
			  -ms-transform: translateZ(0);
			  transform: translateZ(0);
			  -webkit-animation: load8 1.1s infinite linear;
			  animation: load8 1.1s infinite linear;
			}
			.loader,
			.loader:after {
			  border-radius: 50%;
			  width: 10em;
			  height: 10em;
			}
			@-webkit-keyframes load8 {
			  0% {
			    -webkit-transform: rotate(0deg);
			    transform: rotate(0deg);
			  }
			  100% {
			    -webkit-transform: rotate(360deg);
			    transform: rotate(360deg);
			  }
			}
			@keyframes load8 {
			  0% {
			    -webkit-transform: rotate(0deg);
			    transform: rotate(0deg);
			  }
			  100% {
			    -webkit-transform: rotate(360deg);
			    transform: rotate(360deg);
			  }
			}
		</style>
	</head>
	<body>
		<main>
	 		<video class="hide" autoplay loop poster preload>
				<source src="/assets/img/vini-photos-lagoa-abi-dave/4415-1.m4v">
			</video>
			<section class="intro hide">
				<div class=""></div>
			</section>
			<section class="print"></section>
			<div class="loader-container">
				<div class="loader">Loading...</div>
			</div>
		</main>

 		<script>
 				/*!
 			  * $script.js JS loader & dependency manager
 			  * https://github.com/ded/script.js
 			  * (c) Dustin Diaz 2014 | License MIT
 			  */
 			(function(e,t){typeof module!="undefined"&&module.exports?module.exports=t():typeof define=="function"&&define.amd?define(t):this[e]=t()})("$script",function(){function p(e,t){for(var n=0,i=e.length;n<i;++n)if(!t(e[n]))return r;return 1}function d(e,t){p(e,function(e){return!t(e)})}function v(e,t,n){function g(e){return e.call?e():u[e]}function y(){if(!--h){u[o]=1,s&&s();for(var e in f)p(e.split("|"),g)&&!d(f[e],g)&&(f[e]=[])}}e=e[i]?e:[e];var r=t&&t.call,s=r?t:n,o=r?e.join(""):t,h=e.length;return setTimeout(function(){d(e,function t(e,n){if(e===null)return y();e=!n&&e.indexOf(".js")===-1&&!/^https?:\/\//.test(e)&&c?c+e+".js":e;if(l[e])return o&&(a[o]=1),l[e]==2?y():setTimeout(function(){t(e,!0)},0);l[e]=1,o&&(a[o]=1),m(e,y)})},0),v}function m(n,r){var i=e.createElement("script"),u;i.onload=i.onerror=i[o]=function(){if(i[s]&&!/^c|loade/.test(i[s])||u)return;i.onload=i[o]=null,u=1,l[n]=2,r()},i.async=1,i.src=h?n+(n.indexOf("?")===-1?"?":"&")+h:n,t.insertBefore(i,t.lastChild)}var e=document,t=e.getElementsByTagName("head")[0],n="string",r=!1,i="push",s="readyState",o="onreadystatechange",u={},a={},f={},l={},c,h;return v.get=m,v.order=function(e,t,n){(function r(i){i=e.shift(),e.length?v(i,r):v(i,t,n)})()},v.path=function(e){c=e},v.urlArgs=function(e){h=e},v.ready=function(e,t,n){e=e[i]?e:[e];var r=[];return!d(e,function(e){u[e]||r[i](e)})&&p(e,function(e){return u[e]})?t():!function(e){f[e]=f[e]||[],f[e][i](t),n&&n(r)}(e.join("|")),v},v.done=function(e){v([null],e)},v})
		</script>
		<script id="main.js">
			function LoadPrinter(config, rootElement) {
				this.name = config.name;
				this.customLoadingFn = config.load;
				this.rootElement = rootElement;
				this.element = document.createElement('div');
				this.element.innerHTML = '<div class="load-printer">' +
					'<span class="title"></span>' +
					'<span class="dots"></span>' +
					'<span class="result"></span>' +
					'</div>';
				this.rootElement.appendChild(this.element);
				this.load();
			};

			LoadPrinter.prototype = {
				load: function () {
					var self = this;
					this.startTime = new Date().getTime();
					this.printStartLoading();
					this.customLoadingFn(function() {
						self.printEndLoading();
					});
				},

				printStartLoading: function() {
					this.type('Loading ' + this.name + ' ', this.element.querySelector('.title'));
				},

				printEndLoading: function() {
					this.type('DONE in ' + (new Date().getTime() - this.startTime) / 1000 + ' seconds', this.element.querySelector('.result'));
				},

				type: function (string, element, config) {
					var config = config || {};
					var default_config = {
						strings: [string],
						showCursor: false,
						typeSpeed: 0
					};
					for (var key in default_config) {
						config[key] = config[key] || default_config[key];
					}

					if (window.jQuery) {
						// stop any animation on that element
						this.typer && this.typer.complete();
						$(element).typed({
							strings: [string],
							typeSpeed: 0,
							showCursor: false
						});
					} else {
						this.typer = new Typer(element, config);
						this.typer.type(string);
					}
				}
			};


			function Typer(element, config) {
				config = config || {};
				this.element = element;
				this.charPause = config.charPause || 1;
				this.callback = config.callback || function () {};
			}

			Typer.prototype = {
				type: function (string, strPos) {
					var self = this;
					strPos = strPos || 0;
					self.isTyping = true;

					if (self._stop) {
						return;
					}

					if (self._complete) {
						self.element.innerText = string;
						return;
					}

					if (strPos === string.length) {
						self.isTyping = false;
						return self.callback();
					}

					var charPause = self.charPause * 30;
					var humanize = Math.round(Math.random() * (charPause * 3 - charPause));

					setTimeout(function () {
						self.element.innerText = string.substr(0, strPos + 1);
						strPos ++;
						self.type(string, strPos)
					}, humanize);
				},

				stop: function () {
					this._stop = true;
				},

				complete: function () {
					this._complete = true;
				}
			};


			var resources = [
				{
					name: 'javascript',
					load: function(fn) {
						$script('/assets/js/landing-page-libs.min.js', 'libs');
						$script.ready(['libs'], fn);
					}
				}, {
					name: 'vid',
					load: function(fn) {
						var vid = document.querySelector('video');
						vid.addEventListener('progress', function(ev) {
							console.log('progress');
						});
						vid.addEventListener('loadeddata', function(ev) {
							console.log('loaded video');
							fn();
							setTimeout(function () {
								$(vid).removeClass('hide');
								$('.loader').addClass('hide');
								$('.intro').removeClass('hide');
								$('.intro div').typed({
									strings:["Hey, ^500 I'm Dave the dev. ^500<br>That's me on the right. ^500<br>That is where I live. ^500<br>This is my <a href='/'>site</a>. ^500"],
									showCursor: false,
									typeSpeed: 20
								});
								$('.print').addClass('hide');
							}, 1000);
						});
					}
				}, {
					name: 'fonts',
					load: function (fn) {
						var start = new Date().getTime();
						WebFontConfig = {
						  google: { families: ['Dancing+Script::latin'] },
						  fontactive: function(familyName, fvd) {
						  	console.log('loaded font');
							fn()
						  },
						};
						getGoogleFonts();
					}
				}
			];

			var printHello = function (printElement) {
				var div = document.createElement('div');
				printElement.appendChild(div);
				var typer = new Typer(div);
				typer.type('Hey give me a sec :-)');
			}

			var printElement = document.querySelector('main .print');

			printHello(printElement);

			for (var i = 0; i < resources.length; i ++) {
				var resource = resources[i];
				var loader = new LoadPrinter(resource, printElement);
			}

			function getGoogleFonts() {
			  var wf = document.createElement('script');
			  wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
			    '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
			  wf.type = 'text/javascript';
			  wf.async = 'true';
			  var s = document.getElementsByTagName('script')[0];
			  s.parentNode.insertBefore(wf, s);
			};

		</script>
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		  ga('create', 'UA-40588403-3', 'mfbx9da4.github.io');
		  ga('send', 'pageview');
		</script>
	</body>
</html>